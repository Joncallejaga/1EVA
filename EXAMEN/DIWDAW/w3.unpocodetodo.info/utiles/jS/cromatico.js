function getUrlVars(){var e={};var t=window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,n,r){e[n]=r});return e}function validateHex(e){return/(^[0-9A-F]{6}$)|(^[0-9A-F]{3}$)/i.test(e)}function dGajo(e,t){var n=cx+r*Math.cos(Math.PI/180*e);var i=cy+r*Math.sin(Math.PI/180*e);var s=cx+r*Math.cos(Math.PI/180*t);var o=cy+r*Math.sin(Math.PI/180*t);var u="M"+cx+", "+cy+" L"+n+","+i+" A"+r+","+r+" 0 0, 1 "+" "+s+","+o+" z";return u}function nuevoGajo(e,t,n){var r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttributeNS(null,"d",dGajo(e,t));r.setAttributeNS(null,"fill",n);r.setAttributeNS(null,"stroke",n);r.setAttributeNS(null,"data-color",n);r.setAttributeNS(null,"id","gajo"+i);lienzoSVG.appendChild(r)}function helper_hsl2hex(e,t,n){if(n<0){n+=1}if(n>1){n-=1}if(6*n<1){return e+(t-e)*6*n}if(2*n<1){return t}if(3*n<2){return e+(t-e)*(2/3-n)*6}return e}function hsl2rgb(e,t,n){e=e/360;t=t/100;n=n/100;if(t==0){r=n*255;g=n*255;b=n*255}else{if(n<.5){v2=n*(1+t)}else{v2=n+t-t*n}v1=2*n-v2;r=255*helper_hsl2hex(v1,v2,e+1/3);g=255*helper_hsl2hex(v1,v2,e);b=255*helper_hsl2hex(v1,v2,e-1/3)}var i=Array();i["r"]=r;i["g"]=g;i["b"]=b;return i}function getRGB(e,t,n){var r=hsl2rgb(e,t,n);var i=Math.round(r["r"]),s=Math.round(r["g"]),o=Math.round(r["b"]);var u="rgb("+i+", "+s+", "+o+")";return u}function getRGBpercent(e,t,n){var r=hsl2rgb(e,t,n);var i=r["r"]/255*100,s=r["g"]/255*100,o=r["b"]/255*100;var u=Array(Math.round(i),Math.round(s),Math.round(o));return u}function getHEX(e,t,n){var r=hsl2rgb(e,t,n);var i=Math.round(r["r"]),s=Math.round(r["g"]),o=Math.round(r["b"]);var u=i.toString(16);if(u.length==1){u="0"+u}var a=s.toString(16);if(a.length==1){a="0"+a}var f=o.toString(16);if(f.length==1){f="0"+f}var l="#"+u+a+f;return l}function hex2hsl(e){var t=e.substr(1,6);var n=t.substr(0,2);var r=t.substr(2,2);var i=t.substr(4,2);var s=parseInt(n,16);s=s/255;var o=parseInt(r,16);o=o/255;var u=parseInt(i,16);u=u/255;var a=Math.min(s,o,u);var f=Math.max(s,o,u);var l=f-a;var c=(f+a)/2;if(l==0){var h=0;var p=0}else{if(c<.5){var p=l/(f+a)}else{var p=l/(2-f-a)}var d=((f-s)/6+l/2)/l;var v=((f-o)/6+l/2)/l;var m=((f-u)/6+l/2)/l;if(s==f){var h=m-v}else if(o==f){var h=1/3+d-m}else if(u==f){var h=2/3+v-d}if(h<0){h+=1}if(h>1){h-=1}}var g={h:Math.round(h*360),s:Math.round(p*100),l:Math.round(c*100)};return g}function getRgbRy(e){e=e.slice(4);e=e.split(")");rgbRy=e[0].split(",");return rgbRy}function rgb2hex(e){var t="";for(var n=0;n<3;n++){var r=e[n].toString(16);if(r.length==1){r="0"+r}t+=r}return t}function rgb2hsl(e){var t=getRgbRy(e);var n=parseInt(t[0]);n=n/255;var r=parseInt(t[1]);r=r/255;var i=parseInt(t[2]);i=i/255;var s=Math.min(n,r,i);var o=Math.max(n,r,i);var u=o-s;var a=(o+s)/2;if(u==0){var f=0;var l=0}else{if(a<.5){var l=u/(o+s)}else{var l=u/(2-o-s)}var c=((o-n)/6+u/2)/u;var h=((o-r)/6+u/2)/u;var p=((o-i)/6+u/2)/u;if(n==o){var f=p-h}else if(r==o){var f=1/3+c-p}else if(i==o){var f=2/3+h-c}if(f<0){f+=1}if(f>1){f-=1}}var d={h:Math.round(f*360),s:Math.round(l*100),l:Math.round(a*100)};return d}function deltaH(e,t){e=parseFloat(e);t=parseFloat(t);var n=e+t>360?e+t-360:e+t;return n}function tooltip(e,t,n){var r=document.createElement("div");r.setAttribute("class","text tooltip");var i=document.createElement("p");var s=document.createElement("span");s.setAttribute("class","hsl");var o=document.createTextNode("hsl("+e+","+t+"%,"+n+"%)");s.appendChild(o);i.appendChild(s);var u=document.createElement("br");i.appendChild(u);var a=document.createElement("span");a.setAttribute("class","rgb");var f=document.createTextNode(getRGB(e,t,n));a.appendChild(f);i.appendChild(a);var l=document.createElement("br");i.appendChild(l);var c=document.createElement("span");c.setAttribute("class","hex");var h=document.createTextNode(getHEX(e,t,n));c.appendChild(h);i.appendChild(c);r.appendChild(i);return r}function favicon(e,t,n){var r="hsl("+e+","+t+"%,"+n+"%)";var i=document.createElement("canvas");var s=i.getContext("2d");s.canvas.width=32;s.canvas.height=32;var o=s.canvas.width/2;var u=s.canvas.height/2;var a=15;s.fillStyle=r;s.beginPath();s.arc(o,u,a,0,2*Math.PI,true);s.fill();var f=document.querySelector("#favicon");f.parentNode.removeChild(f);var l=document.createElement("link");l.type="image/x-icon";l.rel="shortcut icon";l.id="favicon";l.href=i.toDataURL("image/x-icon");document.getElementsByTagName("head")[0].appendChild(l)}function colorsChart(e,t,n){var r=getRGBpercent(e,t,n);var i=r[0],s=r[1],o=r[2];var u=document.getElementById("lienzo");if(u&&u.getContext){var a=u.getContext("2d");if(a){var f={red:i,green:s,blue:o};var l=25,c=175;var h=(c-l)/5;var p=20;a.clearRect(0,0,u.width,u.height);a.strokeStyle="#ccc";a.lineWidth=1;a.save();a.translate(.5,0);a.beginPath();a.moveTo(45,l-5);a.lineTo(45,c+5);a.stroke();a.restore();a.font="12px Verdana";a.fillStyle="blue";a.textAlign="right";a.textBaseline="middle";var d=100;for(var v=l;v<=c;v+=h){a.fillText(d+"%",40,v);a.save();a.translate(0,.5);a.beginPath();a.moveTo(40,v);a.lineTo(180,v);a.stroke();a.restore();d-=p}a.textAlign="left";a.textBaseline="top";var m=60;for(var g in f){a.fillStyle="blue";var y=f[g]+"%";a.fillText(y,m,180);var b=f[g]*h/p;a.fillStyle=g;a.fillRect(m,c-b,h,b);m+=40}}}}function makeObject(e,t,n){oTooltipContainer={color:{H:e,S:t,L:n},cCompl:{H:deltaH(e,180),S:t,L:n},cT1:{H:deltaH(e,120),S:t,L:n},cT2:{H:deltaH(e,240),S:t,L:n},cQ1:{H:deltaH(e,120),S:t,L:n},cQ2:{H:deltaH(e,180),S:t,L:n},cQ3:{H:deltaH(e,300),S:t,L:n},cA1:{H:deltaH(e,-30),S:t,L:n},cA2:{H:deltaH(e,30),S:t,L:n}};var r=-5;for(var i=0;i<Hry.length;i++){oTooltipContainer[Hry[i]]={};oTooltipContainer[Hry[i]].H=parseFloat(e)+r*10;oTooltipContainer[Hry[i]].S=t;oTooltipContainer[Hry[i]].L=n;r++}for(var s=0;s<Sry.length;s++){oTooltipContainer[Sry[s]]={};oTooltipContainer[Sry[s]].H=e;oTooltipContainer[Sry[s]].S=10*s;oTooltipContainer[Sry[s]].L=n}for(var o=0;o<Lry.length;o++){oTooltipContainer[Lry[o]]={};oTooltipContainer[Lry[o]].H=e;oTooltipContainer[Lry[o]].S=t;oTooltipContainer[Lry[o]].L=10*o}return oTooltipContainer}function createColorDivs(e,t){while(t.hasChildNodes()){t.removeChild(t.firstChild)}for(var n=0;n<e.length;n++){var r=e[n];if(oTooltipContainer.hasOwnProperty(r)){var i=oTooltipContainer[r].H;var s=oTooltipContainer[r].S;var o=oTooltipContainer[r].L;var u=document.createElement("div");u.setAttribute("class","tooltipContainer "+r);u.style.backgroundColor="hsl("+i+","+s+"%,"+o+"%)";u.appendChild(tooltip(i,s,o));t.appendChild(u)}}}function removeSelection(){var e=document.querySelectorAll(".selection");for(var t=0;t<e.length;t++){e[t].addEventListener("dblclick",function(){if(this.parentNode){this.parentNode.removeChild(this)}})}}function makeSelection(){var e=document.querySelectorAll(".tooltipContainer");var t=document.querySelector("#selectionContainer");for(var n=0;n<e.length;n++){e[n].addEventListener("click",function(){var e=this.style.backgroundColor;var n=rgb2hsl(e);console.log(e);var r=parseInt(n["h"]),i=parseInt(n["s"]),s=parseInt(n["l"]);var o=document.createElement("div");o.setAttribute("class","selection");o.style.backgroundColor=e;o.appendChild(tooltip(r,i,s));t.appendChild(o);removeSelection()},false)}}function getColors(e,t,n){document.querySelector("#h1span").innerHTML=getHEX(e,t,n);colorsChart(e,t,n);favicon(e,t,n);makeObject(e,t,n);createColorDivs(main,container);createColorDivs(Hry,Hcontainer);createColorDivs(Sry,Scontainer);createColorDivs(Lry,Lcontainer);createColorDivs(Cry,Ccontainer);createColorDivs(Try,Tcontainer);createColorDivs(Qry,Qcontainer);createColorDivs(Ary,Acontainer);makeSelection()}var hex=getUrlVars()["hex"];var isHex="abcdef";if(validateHex(hex)){if(hex.length==6){isHex=hex}else if(hex.length==3){isHexRy=hex.split("");isHex=isHexRy[0]+isHexRy[0]+isHexRy[1]+isHexRy[1]+isHexRy[2]+isHexRy[2]}else{isHex="abcdef"}}var HSLry=hex2hsl("#"+isHex);console.log(isHex);var lienzoSVG=document.querySelector("#lienzoSVG");var styleSVG=getComputedStyle(lienzoSVG);var w=styleSVG.width.split("px")[0];var h=styleSVG.height.split("px")[0];var cx=w/2,cy=h/2;var r=w/2-10;for(var i=0;i<360;i++){var ap=i;var af=i+1;var color="hsl("+i+",100%,50%)";nuevoGajo(ap,af,color)}var H=HSLry["h"];var S=HSLry["s"];var L=HSLry["l"];var Sslider=document.querySelector("#s");Sslider.value=S;var Lslider=document.querySelector("#l");Lslider.value=L;document.querySelector("#Sval").innerHTML=S;document.querySelector("#Lval").innerHTML=L;var container=document.querySelector("#container");var Hcontainer=document.querySelector("#Hcontainer");var Scontainer=document.querySelector("#Scontainer");var Lcontainer=document.querySelector("#Lcontainer");var Ccontainer=document.querySelector("#Ccontainer");var Tcontainer=document.querySelector("#Tcontainer");var Qcontainer=document.querySelector("#Qcontainer");var Acontainer=document.querySelector("#Acontainer");var main=["color"];var Hry=["H0","H1","H2","H3","H4","H5","H6","H7","H8","H9","H10"];var Sry=["S0","S1","S2","S3","S4","S5","S6","S7","S8","S9","S10"];var Lry=["L0","L1","L2","L3","L4","L5","L6","L7","L8","L9","L10"];var Cry=["color","cCompl"];var Try=["color","cT1","cT2"];var Qry=["color","cQ1","cQ2","cQ3"];var Ary=["cA1","color","cA2"];var oTooltipContainer={};var gajos=lienzoSVG.querySelectorAll("path");for(var j=0;j<gajos.length;j++){(function(){var e=gajos[j].id;var t=lienzoSVG.getElementById(e);t.addEventListener("click",function(){var e=t.getAttribute("fill");var n=e.search(",");H=e.slice(4,n);getColors(H,S,L)})})()}var s=document.querySelector("#s");S=s.value;s.onchange=function(){S=s.value;document.querySelector("#Sval").innerHTML=S;getColors(H,S,L)};var l=document.querySelector("#l");L=l.value;l.onchange=function(){L=l.value;document.querySelector("#Lval").innerHTML=L;getColors(H,S,L)};getColors(H,S,L);document.querySelector("#h1span").innerHTML="#"+isHex