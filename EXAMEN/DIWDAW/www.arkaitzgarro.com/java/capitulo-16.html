<!doctype html>
<html lang="es">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="author" content="Arkaitz Garro" />
    <meta name="date" content="15/04/2014"/>
    <meta name="generator" content="easybook 5.0-DEV"/>

    <title>Herencia | Java</title>

    <link rel="stylesheet" href="css/easybook.css" />

    <link rel="stylesheet" href="css/styles.css" />
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-39705204-1', 'arkaitzgarro.com');
      ga('send', 'pageview');

    </script>
</head>

<body class="item chapter">
<div class="container">
<div class="menu">
    <div class="row">
        <h1 class="span9"><a href="index.html">Java</a></h1>
        <p class="span3">
                        <a href="capitulo-15.html"><span>&larr;</span> Anterior</a>
            
                        <a href="capitulo-17.html">Siguiente <span>&rarr;</span></a>
                    </p>
    </div>
</div>

<div class="row">
    <div class="span9">
        <h1 id="herencia"><span>Capítulo 16</span> Herencia</h1>
        <h2 id="definicion-de-herencia">16.1 Definición de herencia</h2>

<p>La herencia es una propiedad que permite la declaración de nuevas clases a partir de otras ya existentes. Esto proporciona una de las ventajas principales de la Programación Orientada a Objetos: la reutilización de código previamente desarrollado ya que permite a una clase más específica incorporar la estructura y comportamiento de una clase más general.</p>

<p>Cuando una clase B se construye a partir de otra A mediante la herencia, la clase B hereda todos los atributos, métodos y clases internas de la clase A. Además la clase B puede redefinir los componentes heredados y añadir atributos, métodos y clases internas específicas.</p>

<p>Para indicar que la clase B (clase <em>descendiente, derivada, hija o subclase</em>) hereda de la clase A (clase <em>ascendiente, heredada, padre, base o superclase</em>) se emplea la palabra reservada <strong>extends</strong> en la cabecera de la declaración de la clase descendiente. La sintaxis es la siguiente:</p>

<div class="code java">
<pre class="java"><span class="kw1">public</span> <span class="kw1">class</span> ClaseB <span class="kw1">extends</span> ClaseA <span class="br0">&#123;</span> 
    <span class="co1">// Declaracion de atributos y metodos especificos de ClaseB</span>
    <span class="co1">// y/o redeclaracion de componentes heredados</span>
<span class="br0">&#125;</span></pre>
</div>

<p>Por ejemplo, a partir de la clase <code>Precio</code>:</p>

<div class="code java">
<pre class="java"><span class="co3">/** 
 * Ejemplo de declaracion de la clase Precio
 */</span>
<span class="kw1">public</span> <span class="kw1">class</span> Precio <span class="br0">&#123;</span> 
    <span class="co1">// Variable de instancia</span>
    <span class="kw1">public</span> <span class="kw4">double</span> euros<span class="sy0">;</span> 
&nbsp;
    <span class="co1">// Metodos publicos</span>
    <span class="kw1">public</span> <span class="kw4">double</span> da<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">return</span> <span class="kw1">this</span>.<span class="me1">euros</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="kw1">public</span> <span class="kw4">void</span> pone<span class="br0">&#40;</span><span class="kw4">double</span> x<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">this</span>.<span class="me1">euros</span> <span class="sy0">=</span> x<span class="sy0">;</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>
</div>

<p>se construye la clase <code>Producto</code> como descendiente de la clase <code>Precio</code> de la siguiente forma:</p>

<div class="code java">
<pre class="java"><span class="co3">/** 
 * Ejemplo de declaracion de la clase Producto
 * clase producto desciende de Precio
 */</span>
<span class="kw1">public</span> <span class="kw1">class</span> Producto <span class="kw1">extends</span> Precio <span class="br0">&#123;</span>
    <span class="co1">// Variable de instancia </span>
    <span class="kw1">public</span> <span class="kw4">int</span> codigo<span class="sy0">;</span> 
&nbsp;
    <span class="co1">// Metodos publicos</span>
    <span class="kw1">public</span> <span class="kw4">int</span> daCodigo<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">return</span> <span class="kw1">this</span>.<span class="me1">codigo</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
     <span class="kw1">public</span> <span class="kw4">void</span> asignaCodigo<span class="br0">&#40;</span><span class="kw4">int</span> x<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">this</span>.<span class="me1">codigo</span><span class="sy0">=</span>x<span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="kw1">public</span> <span class="kw4">void</span> asignaProducto<span class="br0">&#40;</span><span class="kw4">int</span> cod, <span class="kw4">double</span> p<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">this</span>.<span class="me1">asignaCodigo</span><span class="br0">&#40;</span>cod<span class="br0">&#41;</span><span class="sy0">;</span> 
        <span class="kw1">this</span>.<span class="me1">pone</span><span class="br0">&#40;</span>p<span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
     <span class="kw1">public</span> <span class="kw3">String</span> toString<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">return</span> <span class="st0">&quot;Codigo: &quot;</span> <span class="sy0">+</span> codigo <span class="sy0">+</span> <span class="st0">&quot; ; precio: &quot;</span> <span class="sy0">+</span> euros <span class="sy0">+</span> <span class="st0">&quot; euros&quot;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>
</div>

<p>La clase <code>PruebaClaseProducto</code> trabaja con dos instancias de la clase <code>Producto</code>:</p>

<div class="code java">
<pre class="java"><span class="co3">/**
 *  Demostracion de la clase Producto 
 */</span> 
<span class="kw1">public</span> <span class="kw1">class</span> PruebaClaseProducto <span class="br0">&#123;</span> 
    <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> main <span class="br0">&#40;</span><span class="kw3">String</span> <span class="br0">&#91;</span><span class="br0">&#93;</span> args<span class="br0">&#41;</span><span class="br0">&#123;</span> 
        Producto p <span class="sy0">=</span> <span class="kw1">new</span> Producto<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        p.<span class="me1">asignaProducto</span><span class="br0">&#40;</span><span class="nu0">200201</span>, <span class="nu0">15.8</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span>p.<span class="me1">toString</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        Producto q <span class="sy0">=</span> <span class="kw1">new</span> Producto<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        q.<span class="me1">asignaCodigo</span><span class="br0">&#40;</span><span class="nu0">200202</span><span class="br0">&#41;</span><span class="sy0">;</span>
        q.<span class="me1">pone</span><span class="br0">&#40;</span><span class="nu0">34.3</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span>q.<span class="me1">toString</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span> 
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span>  </pre>
</div>

<p>Durante la ejecución del código anterior, se generan las instancias, referenciadas por <code>p</code> y <code>q</code>, cada una de las cuales está compuesta por dos atributos: <code>euros</code>, variable de instancia heredada de la clase <code>Precio</code> y <code>codigo</code>, variable de instancia específica de la clase <code>Producto</code>.</p>

<div class="figure" id="figure-16-1">
    <img src="images/cap16/producto.png" alt="Representación grafica de las instancias de la clase <code>Producto</code>" />

    <p class="caption"><strong>Figura 16.1</strong> Representación grafica de las instancias de la clase <code>Producto</code></p>
</div>


<p>Por otro lado, la ejecución de <code>PruebaClaseProducto</code> produce la siguiente salida por pantalla:</p>

<div class="code bash">
<pre class="bash">$<span class="sy0">&gt;</span>javac PruebaClaseProducto.java
$<span class="sy0">&gt;</span>java PruebaClaseProducto Codigo: <span class="nu0">200201</span> ; precio: <span class="nu0">15.8</span> euros
Codigo: <span class="nu0">200202</span> ; precio: <span class="nu0">34.3</span> euros</pre>
</div>

<h2 id="jerarquia-de-clases">16.2 Jerarquía de clases</h2>

<p>Java permite múltiples niveles de herencia pero no la herencia <em>multiple</em>, es decir una clase sólo puede heredar directamente de una clase ascendiente. Por otro lado, una clase puede ser ascendiente de tantas clases descendiente como se desee (<em>un unico padre, multitud de hijos</em>). En la siguiente figura se muestra gráficamente un ejemplo de jerarquía entre diferentes clases relacionadas mediante la herencia.</p>

<div class="figure" id="figure-16-2">
    <img src="images/cap16/jerarquia.png" alt="Representación de una jerarquía de clases relacionadas mediante la herencia" />

    <p class="caption"><strong>Figura 16.2</strong> Representación de una jerarquía de clases relacionadas mediante la herencia</p>
</div>


<h2 id="redefinicion-de-elementos-heredados">16.3 Redefinición de elementos heredados</h2>

<p>Como se ha comentado anteriormente la clase descendiente puede añadir sus propios atributos y métodos pero también puede sustituir u ocultar los heredados. En concreto:</p>

<ul>
<li>Se puede declarar un nuevo <strong>atributo</strong> con el mismo identificador que uno heredado, quedando este atributo <strong>oculto</strong>. Esta técnica no es recomendable.</li>
<li>Se puede declarar un nuevo <strong>método de instancia</strong> con la misma cabecera que el de la clase ascendiente, lo que supone su <strong>sobreescritura</strong>. Por lo tanto, la sobreescritura o redefinición consiste en que métodos adicionales declarados en la clase descendiente con el mismo nombre, tipo de dato devuelto y número y tipo de parámetros sustituyen a los heredados.</li>
<li>Se puede declarar un nuevo <strong>método de clase</strong> con la misma cabecera que el de la clase ascendiente, lo que hace que éste quede <strong>oculto</strong>. Por lo tanto, los métodos de clase o estáticos (declarados como <code>static</code>) no pueden ser redefinidos.</li>
<li>Un método declarado con el modificador <code>final</code> tampoco puede ser redefinido por una clase derivada.</li>
<li>Se puede declarar un <strong>constructor</strong> de la subclase que llame al de la superclase de forma implícita o de mediante la palabra reservada <code>super</code>.</li>
<li>En general puede accederse a los métodos de la clase ascendiente que han sido redefinidos empleando la palabra reservada <code>super</code> delante del identificador del método. Este mecanismo sólo permite acceder al metodo perteneciente a la clase en el nivel inmediatamente superior de la jerarquía de clases.</li>
</ul>

<h2 id="la-clase-object">16.4 La clase <code>Object</code></h2>

<p>Independientemente de utilizar la palabra reservada <code>extends</code> en su declaración, todas las clases derivan de una superclase llamada <code>Object</code>. Ésta es la clase raíz de toda la jerarquía de clases de Java. El hecho de que todas las clases deriven implícitamente de la clase <code>Object</code> no se considera herencia múltiple.</p>

<div class="figure" id="figure-16-3">
    <img src="images/cap16/jerarquia2.png" alt="Jerarquía de clases predefinidas en Java" />

    <p class="caption"><strong>Figura 16.3</strong> Jerarquía de clases predefinidas en Java</p>
</div>


<p>Como consecuencia de ello, todas las clases tienen algunos métodos heredados de la clase <code>Object</code>.</p>

<div class="figure" id="figure-16-4">
    <img src="images/cap16/object.png" alt="Algunos de los métodos de la clase predefinida <code>Object</code>" />

    <p class="caption"><strong>Figura 16.4</strong> Algunos de los métodos de la clase predefinida <code>Object</code></p>
</div>


<p>Es bastante frecuente tener que sobreescribir algunos de estos métodos. Por ejemplo, para verificar si dos instancias son iguales en el sentido de contener la misma información en sus atributos se debería sobreescribir el método <code>equals()</code>. El siguiente código muestra un ejemplo de módificación de la clase <code>Producto</code> para incluir una sobreescritura del método <code>equals()</code>:</p>

<div class="code java">
<pre class="java"><span class="kw1">public</span> <span class="kw1">class</span> Producto <span class="kw1">extends</span> Precio <span class="br0">&#123;</span>
    ...
    <span class="kw1">public</span> <span class="kw4">boolean</span> equals<span class="br0">&#40;</span><span class="kw3">Object</span> a<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>a <span class="kw1">instanceof</span> Producto<span class="br0">&#41;</span>
            <span class="kw1">return</span> <span class="br0">&#40;</span>codigo<span class="sy0">==</span>a.<span class="me1">daCodigo</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">else</span>
            <span class="kw1">return</span> <span class="kw2">false</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span>   </pre>
</div>

<p>También es bastante habitual sobreescribir el método <code>toString()</code>.</p>

<h2 id="herencia-y-constructores">16.5 Herencia y constructores</h2>

<p>La subclase necesita normalmente que se ejecute el constructor de la superclase antes que su propio constructor para inicializar las variables de instancia heredadas. La solución consiste en utilizar la palabra reservada super seguida entre paréntesis de los parámetros correspondiente en el cuerpo del constructor de la subclase. Es decir, incluir la siguiente sentencia como primera línea de código:</p>

<div class="code java">
<pre class="java"><span class="kw1">super</span><span class="br0">&#40;</span>argumentos opcionales<span class="br0">&#41;</span><span class="sy0">;</span></pre>
</div>

<p>De esta forma la implementación de un constructor de la clase descendiente sólo necesita inicializar directamente las variables de instancia no heredadas. Si no aparece como primera sentencia, el compilador inserta una llamada implícita <code>super()</code>; que inicializa las variables de instancia a cero, <code>false</code>, carácter nulo o <code>null</code> dependiendo de su tipo. Esta llamada en cadena a los constructores de las clases ascendientes llega hasta el origen de la jerarquía de clases, es decir, hasta el constructor de la clase <code>Object</code>. En cualquier caso, la creación de una nueva instancia mediante un constructor debe tener tres fases:</p>

<ul>
<li>Llamada al constructor de la clase ascendiente.</li>
<li>Se asignan valores a los atributos.</li>
<li>Se ejecuta el resto del constructor.</li>
</ul>

<h2 id="casting-o-moldes-entre-objetos-con-relacion-de-herencia">16.6 Casting o moldes entre objetos con relación de herencia</h2>

<p>El <em>casting</em> o moldeo permite el uso de un objeto de una clase en lugar de otro de otras clase con el que haya una relación de herencia. Por ejemplo:</p>

<div class="code java">
<pre class="java"><span class="kw3">Object</span> a <span class="sy0">=</span> <span class="kw1">new</span> Producto<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
</div>

<p>Entonces <code>a</code> es <em>momentáneamente</em> tanto una instancia de la clase <code>Object</code> como <code>Producto</code> (hasta que más adelante se le asigne un objeto que no sea un <code>Producto</code>). A esto se le llama moldeo <strong>implícito</strong>.</p>

<p>Por otro lado, si se escribe:</p>

<div class="code java">
<pre class="java">Producto b <span class="sy0">=</span> a<span class="sy0">;</span></pre>
</div>

<p>se obtendrá un error de compilación porque el objeto referenciado por a no es considerado por el compilador como un <code>Producto</code>. Sin embargo se le puede indicar al compilador que a la referencia a se le va a asignar obligatoriamente un <code>Producto</code>.</p>

<div class="code java">
<pre class="java">Producto b <span class="sy0">=</span> <span class="br0">&#40;</span>Producto<span class="br0">&#41;</span>a<span class="sy0">;</span></pre>
</div>

<p>Este moldeo <strong>explícito</strong> introduce la verificación durante la ejecución de que a la referencia a se le ha asignado un <code>Producto</code> así que el compilador no genera un error. En el caso que durante la ejecución la referencia a no fuera a un <code>Producto</code>, se generaría una excepción. Para asegurar esta situación y evitar el error de ejecución se podría emplear el operador <code>instanceof</code>:</p>

<div class="code java">
<pre class="java"><span class="kw1">if</span> <span class="br0">&#40;</span>a <span class="kw1">instanceof</span> Producto<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    Producto b <span class="sy0">=</span> <span class="br0">&#40;</span>Producto<span class="br0">&#41;</span>a<span class="sy0">;</span>
<span class="br0">&#125;</span></pre>
</div>

<h2 id="clases-y-metodos-abstractos">16.7 Clases y métodos abstractos</h2>

<p>Una clase <em>abstracta</em> es una clase de la que no se pueden crear instancias. Su utilidad consiste en permitir que otras clases deriven de ella. De esta forma, proporciona un modelo de referencia a seguir a la vez que una serie de métodos de utilidad general. Las clases abstractas se declaran empleando la palabra reservada <code>abstract</code> como se muestra a continuación:</p>

<div class="code java">
<pre class="java"><span class="kw1">public</span> <span class="kw1">abstract</span> <span class="kw1">class</span> IdClase . . .</pre>
</div>

<p>Una clase abstracta puede componerse de varios atributos y métodos pero debe tener, al menos, un método <em>abstracto</em> (declarado también con la palabra reservada <code>abstract</code> en la cabecera). Los métodos abstractos no se implementan en el código de la clase abstracta pero las clases descendientes de ésta han de implementarlos o volver a declararlos como abstractos (en cuyo caso la subclase también debe declararse como abstracta). En cualquier caso, ha de indicarse el tipo de dato que devuelve y el número y tipo de parámetros. La sintaxis de declaración de un método abstracto es:</p>

<div class="code java">
<pre class="java"><span class="kw1">abstract</span> modificador tipo_retorno idClase<span class="br0">&#40;</span>lista_parametros<span class="br0">&#41;</span><span class="sy0">;</span></pre>
</div>

<p>Si una clase tiene métodos abstractos, entonces también la clase debe declararse como abstracta. Como los métodos de clase (<code>static</code>) no pueden ser redefinidos, un método abstracto no puede ser estático. Tampoco tiene sentido que declarar constructores abstractos ya que un constructor se emplea siempre al crear una instancia (y con las clases abstractas no se crean instancias).</p>

<p>Ejemplo de código con la declaración de clase abstracta:</p>

<div class="code java">
<pre class="java"><span class="co3">/**
 * Declaracion de la clase abstracta FiguraGeometrica
 */</span>
<span class="kw1">public</span> <span class="kw1">abstract</span> <span class="kw1">class</span> FiguraGeometrica <span class="br0">&#123;</span>
    <span class="co1">// Declaracion de atributos</span>
    <span class="kw1">private</span> <span class="kw3">String</span> nombre<span class="sy0">;</span>
&nbsp;
    <span class="co1">// Declaracion de metodos</span>
    <span class="kw1">abstract</span> <span class="kw1">public</span> <span class="kw4">double</span> area<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="kw1">public</span> figuraGeometrica <span class="br0">&#40;</span><span class="kw3">String</span> nombreFigura <span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">this</span>.<span class="me1">nombre</span> <span class="sy0">=</span> nombreFigura<span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="kw1">final</span> <span class="kw1">public</span> <span class="kw4">boolean</span> mayorQue <span class="br0">&#40;</span>FiguraGeometrica otra<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">return</span> <span class="kw1">this</span>.<span class="me1">area</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">&gt;</span>otra.<span class="me1">area</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="kw1">final</span> <span class="kw1">public</span> <span class="kw3">String</span> toString<span class="br0">&#40;</span><span class="br0">&#41;</span>
        <span class="kw1">return</span> <span class="kw1">this</span>.<span class="me1">nombre</span> <span class="sy0">+</span> <span class="st0">&quot; con area &quot;</span> <span class="sy0">+</span> <span class="kw1">this</span>.<span class="me1">area</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>
</div>

<p>Como ejemplo de utilización de  <code>Rectangulo</code> se construye a partir de la clase abstracta <code>FiguraGeometrica</code>:</p>

<div class="code java">
<pre class="java"><span class="co3">/**
 * Ejemplo de uso de la declaracion de una clase abstracta
 * Declaracion de la clase Rectangulo
 */</span>
<span class="kw1">public</span> <span class="kw1">class</span> Rectangulo <span class="kw1">extends</span> FiguraGeometrica <span class="br0">&#123;</span>
    <span class="kw1">private</span> <span class="kw4">double</span> base<span class="sy0">;</span>
    <span class="kw1">private</span> <span class="kw4">double</span> altura<span class="sy0">;</span>
&nbsp;
    <span class="kw1">public</span> Rectangulo <span class="br0">&#40;</span><span class="kw4">double</span> largo, <span class="kw4">double</span> ancho<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">super</span><span class="br0">&#40;</span><span class="st0">&quot;Rectangulo&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">this</span>.<span class="me1">base</span> <span class="sy0">=</span> largo<span class="sy0">;</span>
        <span class="kw1">this</span>.<span class="me1">altura</span> <span class="sy0">=</span> ancho<span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="kw1">public</span> <span class="kw4">double</span> area <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">return</span> <span class="kw1">this</span>.<span class="me1">base</span> <span class="sy0">*</span> <span class="kw1">this</span>.<span class="me1">altura</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>
</div>

<p>Ejemplo de uso de la clase <code>Rectangulo</code>:</p>

<div class="code java">
<pre class="java"><span class="co3">/**
 * Ejemplo de uso de la clase Rectangulo
 */</span>
<span class="kw1">public</span> <span class="kw1">class</span> pruebaRectangulo <span class="br0">&#123;</span>
    <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> main <span class="br0">&#40;</span><span class="kw3">String</span> <span class="br0">&#91;</span><span class="br0">&#93;</span> args <span class="br0">&#41;</span> <span class="br0">&#123;</span>
        Rectangulo r1<span class="sy0">;</span>
        r1 <span class="sy0">=</span> <span class="kw1">new</span> Rectangulo<span class="br0">&#40;</span><span class="nu0">12.5</span>, <span class="nu0">23.7</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;Area de r1 = &quot;</span> <span class="sy0">+</span> r1.<span class="me1">area</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        Rectangulo r2 <span class="sy0">=</span> <span class="kw1">new</span> Rectangulo<span class="br0">&#40;</span><span class="nu0">8.6</span>, <span class="nu0">33.1</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;Area de r2 = &quot;</span> <span class="sy0">+</span> r2.<span class="me1">toString</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        <span class="kw1">if</span> <span class="br0">&#40;</span>r1.<span class="me1">mayorQue</span><span class="br0">&#40;</span>r2<span class="br0">&#41;</span><span class="br0">&#41;</span>
            <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;El rectangulo de mayor area es r1&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">else</span>
            <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;El rectangulo de mayor area es r2&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>
</div>

<p>Salida por pantalla de la ejecución del código anterior:</p>

<div class="code bash">
<pre class="bash">$<span class="sy0">&gt;</span>java PruebaRectangulo
Area de r1 = <span class="nu0">296.25</span> 
Area de r2 = Rectangulo con area <span class="nu0">284.66</span>
El rectangulo de mayor area es r1</pre>
</div>

<h2 id="clases-y-metodos-finales">16.8 Clases y métodos finales</h2>

<p>Una clase declarada con la palabra reservada <code>final</code> no puede tener clases descendientes. Por ejemplo, la clase predefinida de Java <code>Math</code> está declarada como <code>final</code>.</p>

<p>A modo de ejemplo, se desarrolla una clase <strong>final</strong> <code>MathBis</code> (de operatividad similar a la clase <code>Math</code> estándar de Java) que incluye la declaración de dos métodos que calculan y devuelven respectivamente las siguientes funciones trigonométricas:</p>

<div class="figure center" id="figure-16-5">
    <img src="images/cap16/mathbis.png" alt="" />

</div>


<p>El código fuente de la clase es:</p>

<div class="code java">
<pre class="java"><span class="co3">/**
 * Ejemplo de declaracion de una clase final
 * Declaracion de la clase MathBis
 */</span>
<span class="kw1">public</span> <span class="kw1">final</span> <span class="kw1">class</span> MathBis <span class="br0">&#123;</span>
    <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">double</span> asinh<span class="br0">&#40;</span><span class="kw4">double</span> x<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">return</span> <span class="kw3">Math</span>.<span class="me1">log</span><span class="br0">&#40;</span>x<span class="sy0">+</span><span class="kw3">Math</span>.<span class="me1">sqrt</span><span class="br0">&#40;</span>x<span class="sy0">*</span>x<span class="sy0">+</span><span class="nu0">1</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">double</span> acosh<span class="br0">&#40;</span><span class="kw4">double</span> x<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">return</span> <span class="kw3">Math</span>.<span class="me1">log</span><span class="br0">&#40;</span>x<span class="sy0">+</span><span class="kw3">Math</span>.<span class="me1">sqrt</span><span class="br0">&#40;</span>x<span class="sy0">*</span>x<span class="sy0">-</span><span class="nu0">1</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>
</div>

<p>Ejemplo de uso de la clase <code>MathBis</code>:</p>

<div class="code java">
<pre class="java"><span class="co3">/**
 * Ejemplo de uso de una clase final
 * Declaracion de la clase pruebaMathBis
 */</span>
<span class="kw1">public</span> <span class="kw1">class</span> PruebaMathBis <span class="br0">&#123;</span>
    <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> main <span class="br0">&#40;</span><span class="kw3">String</span> <span class="br0">&#91;</span><span class="br0">&#93;</span> args<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw4">int</span> i<span class="sy0">=-</span><span class="nu0">5</span><span class="sy0">;</span> i<span class="sy0">&lt;</span><span class="nu0">10</span><span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="kw4">double</span> x <span class="sy0">=</span> i<span class="sy0">/</span><span class="nu0">5.0</span><span class="sy0">;</span>
            <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">print</span><span class="br0">&#40;</span><span class="st0">&quot;Para x = &quot;</span> <span class="sy0">+</span> x<span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">print</span><span class="br0">&#40;</span><span class="st0">&quot;: asinh(x) = &quot;</span> <span class="sy0">+</span>MathBis.<span class="me1">asinh</span><span class="br0">&#40;</span>x<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;, acosh(x) = &quot;</span> <span class="sy0">+</span>MathBis.<span class="me1">acosh</span><span class="br0">&#40;</span>x<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>
</div>

<p>Por otro lado, un método declarado como <code>final</code> no puede ser redefinido por una clase descendiente. Los métodos que son llamados desde los constructores deberían declararse como <code>final</code>, ya que si un constructor llama a un método que no lo sea, la subclase podría haberla redefinido con resultados indeseables.</p>

    </div>

    <div class="span3">
        <div class="item local_toc">
            <h3>Índice de contenidos</h3>

            <ul class="unstyled">
                                                <li class="level-1">
                        <span></span>
                        <a class="internal" href="capitulo-16.html#herencia">Herencia</a>
                    </li>
                                    <li class="level-2">
                        <span>16.1</span>
                        <a class="internal" href="capitulo-16.html#definicion-de-herencia">Definición de herencia</a>
                    </li>
                                    <li class="level-2">
                        <span>16.2</span>
                        <a class="internal" href="capitulo-16.html#jerarquia-de-clases">Jerarquía de clases</a>
                    </li>
                                    <li class="level-2">
                        <span>16.3</span>
                        <a class="internal" href="capitulo-16.html#redefinicion-de-elementos-heredados">Redefinición de elementos heredados</a>
                    </li>
                                    <li class="level-2">
                        <span>16.4</span>
                        <a class="internal" href="capitulo-16.html#la-clase-object">La clase <code>Object</code></a>
                    </li>
                                    <li class="level-2">
                        <span>16.5</span>
                        <a class="internal" href="capitulo-16.html#herencia-y-constructores">Herencia y constructores</a>
                    </li>
                                    <li class="level-2">
                        <span>16.6</span>
                        <a class="internal" href="capitulo-16.html#casting-o-moldes-entre-objetos-con-relacion-de-herencia">Casting o moldes entre objetos con relación de herencia</a>
                    </li>
                                    <li class="level-2">
                        <span>16.7</span>
                        <a class="internal" href="capitulo-16.html#clases-y-metodos-abstractos">Clases y métodos abstractos</a>
                    </li>
                                    <li class="level-2">
                        <span>16.8</span>
                        <a class="internal" href="capitulo-16.html#clases-y-metodos-finales">Clases y métodos finales</a>
                    </li>
                                        </ul>
        </div>
    </div>
</div>
</div>
</body>
</html>